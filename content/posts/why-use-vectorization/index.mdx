---
title: Why use vectorization
date: 2020-02-22
tags:
  - Python
  - Machine Learning
---

For-loop in Python is very expensive process.  Here is a simple demo showing
what is performance difference by using between vectorization and for-loop.

```python
import numpy as np
import time

a = np.random.rand(1000000)
b = np.random.rand(1000000)

tic = time.time()
c = np.dot(a,b)
toc = time.time()

print(c)
print(f'Vectoriation time: {str(1000*(toc-tic))} msec')

c = 0
tic = time.time()
for i in range(len(a)):
    c += a[i]*b[i]
toc = time.time()

print(c)
print(f'For-loop time: {str(1000*(toc-tic))} msec')
```

```sh
249687.45155060524
Vectoriation time: 0.7510185241699219 msec
249687.45155060446
For-loop time: 519.5882320404053 msec
```

It is a rule of thumb in machine learning that "whenever possible, avoid explicit for-loops". 


